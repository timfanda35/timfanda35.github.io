<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>gitlab on Bear Su's Blog</title><link>https://blog.bear-su.dev/categories/gitlab/</link><description>Recent content in gitlab on Bear Su's Blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><copyright>Copyright © 2015 - 2022 Bear Su's Blog</copyright><lastBuildDate>Wed, 16 Feb 2022 12:00:00 +0800</lastBuildDate><atom:link href="https://blog.bear-su.dev/categories/gitlab/index.xml" rel="self" type="application/rss+xml"/><item><title>gem install fail with docker in docker</title><link>https://blog.bear-su.dev/2022/02/16/gem-install-fail-with-dind/</link><pubDate>Wed, 16 Feb 2022 12:00:00 +0800</pubDate><guid>https://blog.bear-su.dev/2022/02/16/gem-install-fail-with-dind/</guid><description>打算照著 GitLab 文件，用 dind 的方式建置 Container Image，但在執行 CI Job 時，收到了錯誤訊息
You don't have write permission for the /usr/local/bundle .gitlab-ci.yml 內容(參考官方文件)如下：
build: image: docker:19.03.12 stage: build services: - docker:19.03.12-dind script: - docker login -u $CI_REGISTRY_USER -p $CI_REGISTRY_PASSWORD $CI_REGISTRY - docker build -t $CI_REGISTRY/group/project/image:latest . - docker push $CI_REGISTRY/group/project/image:latest 專案使用的 Dockerfile 內容如下：
FROM ruby:2.7.4-alpine RUN apk add --no-cache --update build-base tzdata yarn mysql-dev libc6-compat RUN gem install bundler --no-document 查了一下，發現因為 Alpine 3.14 images can fail on Docker versions older than 20.</description></item></channel></rss>