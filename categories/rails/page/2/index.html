<!DOCTYPE html>
<html lang="en-us">
  <meta name="robots" content="noindex, follow">

  <!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge,chrome=1">
  <title>Rails &middot; Bear Su&#39;s blog -  Running Bear!!! </title>
  <meta name="generator" content="Hugo 0.53" />
  <meta name="description" content="Running Bear!!!"> 

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Rails"/>
<meta name="twitter:description" content="Running Bear!!!"/>

  <meta property="og:title" content="Rails" />
<meta property="og:description" content="Running Bear!!!" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://timfanda35.github.io/categories/rails/" />
<meta property="og:updated_time" content="2015-07-30T11:59:00&#43;08:00"/>


  <!-- RSS autodiscovery --> 
  <link href="https://timfanda35.github.io/categories/rails/index.xml" rel="alternate" type="application/rss+xml" title="Bear Su&#39;s blog" />
  <link href="https://timfanda35.github.io/categories/rails/index.xml" rel="feed" type="application/rss+xml" title="Bear Su&#39;s blog" />
  

  
<meta itemprop="name" content="Rails">
<meta itemprop="description" content="Running Bear!!!">


  <link href="https://fonts.googleapis.com/css?family=Lato:400" rel="stylesheet">
  <link rel="stylesheet" href="https://timfanda35.github.io/css/style.css">
  <script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "WebSite",
  "name": "Bear Su&#39;s blog",
  "url": "https://timfanda35.github.io/categories/rails/"
}
</script>

</head>


  <body class="is-txonomy">
    <header class="gheader">
  <div class="container">
    <nav class="navbar ">
      <div class="navbar-brand">
        <a class="navbar-item" href="https://timfanda35.github.io">
          <h1 class="brand">Bear Su&#39;s blog</h1>
        </a>

        <div class="navbar-burger burger" data-target="navMenubd-example">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>

      <div id="navMenubd-example" class="navbar-menu">
        <div class="navbar-start">
          
          <a class="navbar-item" href="/categories/">
            Categories
          </a>
          
          <a class="navbar-item" href="https://github.com/timfanda35">
            GitHub
          </a>
          
          <a class="navbar-item" href="https://www.linkedin.com/in/bearsu">
            Linkedin
          </a>
          
          <a class="navbar-item" href="https://twitter.com/Fandayo">
            Twitter
          </a>
          
        </div>
      </div>
    </nav>
  </div>
</header>


    <div class="main-content">
      <div class="container">
        <div class="archive">
          <header class="archive-header">
            <h2 class="title">「Rails」 List</h2>
          </header>
          <div class="archive-body">
            
              <article class="post-item">
  <p class="title">
    <a href="https://timfanda35.github.io/2017/03/19/active-record-merge-method/">ActiveRecord merge method</a>
  </p>
  <footer class="meta">
    <time class="pub-time"  datetime="2017-03-19T05:13:00&#43;08:00">
      2017.03.19
    </time>
    <div class="terms">
      
      <div class="categories">
        
          <a class="categories-item" href="/categories/rails">rails</a>
        
          <a class="categories-item" href="/categories/activerecord">activerecord</a>
        
      </div>
      
      
    </div>
  </footer>
  <div style="margin-top: 10px;">
    <p><img src="http://i.imgur.com/EsiorQx.jpg" alt="" /></p>

<p><a href="https://www.pakutaso.com/20160628181pc-11.html">圖片來源</a></p>

<p>之前查資料找到這篇 <a href="http://stackoverflow.com/questions/6334537/rails-where-clause-on-model-association">Rails where() clause on model association?</a></p>

<p>原來在查詢條件包含關聯表欄位的時候還有 <code>merge</code> 的方法可以用</p>

<p>之前都在 <code>joins</code> 裡面硬刻 SQL query&hellip;</p>
  </div>
  <p style="margin-top: 10px;">
    <a href="https://timfanda35.github.io/2017/03/19/active-record-merge-method/"> 繼續閱讀 >>> </a>
  </p>
  <hr>
</article>

            
              <article class="post-item">
  <p class="title">
    <a href="https://timfanda35.github.io/2017/02/11/ruby-rails-load-setting-file/">Ruby/Rails load setting file</a>
  </p>
  <footer class="meta">
    <time class="pub-time"  datetime="2017-02-11T11:59:00&#43;08:00">
      2017.02.11
    </time>
    <div class="terms">
      
      <div class="categories">
        
          <a class="categories-item" href="/categories/ruby">ruby</a>
        
          <a class="categories-item" href="/categories/rails">rails</a>
        
      </div>
      
      
    </div>
  </footer>
  <div style="margin-top: 10px;">
    <p>最近在網路上看到了這兩篇文章：</p>

<p><a href="https://ruby-china.org/topics/32126">Rails 最佳实践之配置管理</a></p>

<p><a href="http://railsfun.tw/t/rails-database-yml-global-settings/996">在 Rails 內建立類似 database.yml 的設定文件（global settings）</a></p>

<p>才知道原來 Rails 4.2 之後有好用的 <code>config_for</code> 方法啊</p>
  </div>
  <p style="margin-top: 10px;">
    <a href="https://timfanda35.github.io/2017/02/11/ruby-rails-load-setting-file/"> 繼續閱讀 >>> </a>
  </p>
  <hr>
</article>

            
              <article class="post-item">
  <p class="title">
    <a href="https://timfanda35.github.io/2017/02/04/logger-tip/">logger tip</a>
  </p>
  <footer class="meta">
    <time class="pub-time"  datetime="2017-02-04T07:05:00&#43;08:00">
      2017.02.04
    </time>
    <div class="terms">
      
      <div class="categories">
        
          <a class="categories-item" href="/categories/ruby">ruby</a>
        
          <a class="categories-item" href="/categories/rails">rails</a>
        
          <a class="categories-item" href="/categories/logger">logger</a>
        
      </div>
      
      
    </div>
  </footer>
  <div style="margin-top: 10px;">
    <p>所謂有記有保庇</p>

<p>log 能夠幫助瞭解程式在執行的時候做了什麼事</p>

<p>log 記得好在除錯的時候能幫上很大的忙</p>

<p>這邊紀錄跟 logger 的一些相關技巧</p>
  </div>
  <p style="margin-top: 10px;">
    <a href="https://timfanda35.github.io/2017/02/04/logger-tip/"> 繼續閱讀 >>> </a>
  </p>
  <hr>
</article>

            
              <article class="post-item">
  <p class="title">
    <a href="https://timfanda35.github.io/2016/09/08/railsfun-0907-note/">RailsFun-0907筆記</a>
  </p>
  <footer class="meta">
    <time class="pub-time"  datetime="2016-09-08T01:46:00&#43;08:00">
      2016.09.08
    </time>
    <div class="terms">
      
      <div class="categories">
        
          <a class="categories-item" href="/categories/ruby">ruby</a>
        
          <a class="categories-item" href="/categories/rails">rails</a>
        
      </div>
      
      
    </div>
  </footer>
  <div style="margin-top: 10px;">
    <p>受到朋友的邀請</p>

<p>藉著這機會參加了一直很想去但又沒去的 RailsFun 聚會</p>

<p>得到了蠻多新知識</p>

<p>在下次聚會之前可以來好好研究一下</p>
  </div>
  <p style="margin-top: 10px;">
    <a href="https://timfanda35.github.io/2016/09/08/railsfun-0907-note/"> 繼續閱讀 >>> </a>
  </p>
  <hr>
</article>

            
              <article class="post-item">
  <p class="title">
    <a href="https://timfanda35.github.io/2016/06/13/rails-hosting-survey-2016/">Rails Hosting Survey 2016</a>
  </p>
  <footer class="meta">
    <time class="pub-time"  datetime="2016-06-13T02:24:00&#43;08:00">
      2016.06.13
    </time>
    <div class="terms">
      
      <div class="categories">
        
          <a class="categories-item" href="/categories/rails">rails</a>
        
      </div>
      
      
    </div>
  </footer>
  <div style="margin-top: 10px;">
    連結：http://rails-hosting.com/2016/
好奇其他 Rails Developers 都用些什麼工具嗎？
來看看最新的調查吧 :D
  </div>
  <p style="margin-top: 10px;">
    <a href="https://timfanda35.github.io/2016/06/13/rails-hosting-survey-2016/"> 繼續閱讀 >>> </a>
  </p>
  <hr>
</article>

            
              <article class="post-item">
  <p class="title">
    <a href="https://timfanda35.github.io/2016/04/21/installrails/">Rails 安裝教學</a>
  </p>
  <footer class="meta">
    <time class="pub-time"  datetime="2016-04-21T09:09:00&#43;08:00">
      2016.04.21
    </time>
    <div class="terms">
      
      <div class="categories">
        
          <a class="categories-item" href="/categories/rails">rails</a>
        
          <a class="categories-item" href="/categories/ruby">ruby</a>
        
      </div>
      
      
    </div>
  </footer>
  <div style="margin-top: 10px;">
    我想要推薦這一個網站 InstallRails.com
這個網站一步步教你在不同平台安裝開發 rails 的環境，圖文並茂，說明詳細
以 Mac 平台來說，會安裝的項目有： * Xcode * Homebrew * Git * RVM * Ruby * Rails * Sublime Text
不過在教學中安裝管理 Ruby 版本的工具是 rvm
我自己喜歡用的管理 Ruby 版本的工具是 rbenv
除了安裝 Rails，在請別人安裝 Ruby 的時候我也會丟這個網站給他，請他依步驟做到安裝 RVM
可以省下很多說明的時間 ?
  </div>
  <p style="margin-top: 10px;">
    <a href="https://timfanda35.github.io/2016/04/21/installrails/"> 繼續閱讀 >>> </a>
  </p>
  <hr>
</article>

            
              <article class="post-item">
  <p class="title">
    <a href="https://timfanda35.github.io/2016/03/22/gems-for-improving-code-quality/">推薦協助提高程式碼品質的 Gem</a>
  </p>
  <footer class="meta">
    <time class="pub-time"  datetime="2016-03-22T11:28:00&#43;08:00">
      2016.03.22
    </time>
    <div class="terms">
      
      <div class="categories">
        
          <a class="categories-item" href="/categories/ruby">ruby</a>
        
          <a class="categories-item" href="/categories/rails">rails</a>
        
          <a class="categories-item" href="/categories/brakeman">brakeman</a>
        
          <a class="categories-item" href="/categories/bullet">bullet</a>
        
          <a class="categories-item" href="/categories/rubycritic">rubycritic</a>
        
          <a class="categories-item" href="/categories/newrelic">newrelic</a>
        
          <a class="categories-item" href="/categories/gem">gem</a>
        
      </div>
      
      
    </div>
  </footer>
  <div style="margin-top: 10px;">
    <p>用 Rails 開發網站時除了寫測試之外，還可以透過一些 gem 來協助維護 code 的品質</p>

<p>這篇推薦幾個 gem：</p>

<p><a href="https://github.com/presidentbeef/brakeman">Brakeman - 檢查安全性</a></p>

<p><a href="https://github.com/flyerhzm/bullet">Bullet - 檢查 N+1 Query</a></p>

<p><a href="https://github.com/whitesmith/rubycritic">RubyCritic - 靜態分析程式碼(已整合多套工具)</a></p>

<p><a href="https://github.com/newrelic/rpm">New Relic RPM - 監測網站效能</a></p>
  </div>
  <p style="margin-top: 10px;">
    <a href="https://timfanda35.github.io/2016/03/22/gems-for-improving-code-quality/"> 繼續閱讀 >>> </a>
  </p>
  <hr>
</article>

            
              <article class="post-item">
  <p class="title">
    <a href="https://timfanda35.github.io/2015/10/16/ruby-learning-resource/">Ruby 學習資源</a>
  </p>
  <footer class="meta">
    <time class="pub-time"  datetime="2015-10-16T14:24:00&#43;08:00">
      2015.10.16
    </time>
    <div class="terms">
      
      <div class="categories">
        
          <a class="categories-item" href="/categories/ruby">ruby</a>
        
          <a class="categories-item" href="/categories/rails">rails</a>
        
      </div>
      
      
    </div>
  </footer>
  <div style="margin-top: 10px;">
    <p>紀錄一下收藏的學習資源</p>

<p>有任何錯誤或建議都歡迎告知 :)</p>

<hr />

<h1 id="ruby">Ruby</h1>

<h2 id="learn-ruby-the-hard-way-笨方法學-ruby-http-lrthw-github-io"><a href="http://lrthw.github.io">Learn Ruby The Hard Way - 笨方法學 Ruby</a></h2>

<blockquote>
<p>練習量很足夠的電子書，推薦用來練基本功。
另外可以先看這篇 <a href="http://blog.cgmlife.net/posts/2014/04/14/when-read-learn-ruby-the-hard-way-some-problems-you-may-meet">閱讀 Learn Ruby The Hard Way 時可能會遇到的問題</a> 做一下心理建設 XD</p>
</blockquote>

<h2 id="code-cademy-https-www-codecademy-com-tracks-ruby"><a href="https://www.codecademy.com/tracks/ruby">Code Cademy</a></h2>

<blockquote>
<p>練習量很充足的互動課程，完成關卡得到的 Badge 更能增加成就感。</p>
</blockquote>

<h2 id="code-school-https-www-codeschool-com-paths-ruby"><a href="https://www.codeschool.com/paths/ruby">Code School</a></h2>

<blockquote>
<p>Try Ruby 很適合入門體驗 Ruby 寫作的感覺。有許多主題式的課程與影片，大多數都需要付費才能觀看。完成課程的 Badge 可以貼到 <a href="https://www.linkedin.com">Linkedin</a> 上。</p>
</blockquote>

<h2 id="ruby-document-http-ruby-doc-org"><a href="http://ruby-doc.org">Ruby Document</a></h2>

<blockquote>
<p>Ruby 的文件，有空就翻一翻，說不定會有新的體悟。</p>
</blockquote>

<h2 id="ruby-warrior-https-www-bloc-io-ruby-warrior"><a href="https://www.bloc.io/ruby-warrior/#/">Ruby Warrior</a></h2>

<blockquote>
<p>用 Ruby 操作主角破關的遊戲。類似的還有<a href="http://codecombat.com/">CodeCombat</a></p>
</blockquote>

<h2 id="codewars-http-www-codewars-com"><a href="http://www.codewars.com/">Codewars</a></h2>

<blockquote>
<p>有很多題目關卡可以讓你練習，不過也有很多需要知道演算法才有辦法過關。
你也可以閱覽其他人的程式碼，對於寫作大有幫助。</p>
</blockquote>

<h2 id="the-odin-project-http-www-theodinproject-com-ruby-programming"><a href="http://www.theodinproject.com/ruby-programming">The odin project</a></h2>

<h1 id="w3cshool-cc-http-www-w3cschool-cc-ruby-ruby-tutorial-html"><a href="http://www.w3cschool.cc/ruby/ruby-tutorial.html">w3cshool.cc</a></h1>
  </div>
  <p style="margin-top: 10px;">
    <a href="https://timfanda35.github.io/2015/10/16/ruby-learning-resource/"> 繼續閱讀 >>> </a>
  </p>
  <hr>
</article>

            
              <article class="post-item">
  <p class="title">
    <a href="https://timfanda35.github.io/2015/07/30/helper-method-to-use/">helper 的使用方法</a>
  </p>
  <footer class="meta">
    <time class="pub-time"  datetime="2015-07-30T13:37:00&#43;08:00">
      2015.07.30
    </time>
    <div class="terms">
      
      <div class="categories">
        
          <a class="categories-item" href="/categories/ruby">ruby</a>
        
          <a class="categories-item" href="/categories/rails">rails</a>
        
      </div>
      
      
    </div>
  </footer>
  <div style="margin-top: 10px;">
    Helper 是協助在 View 呈現資料的方法，通常都用來包裝程式邏輯，或是簡化撰寫 View 的作業。
Helper 檔案都會放在 app/helpers 底下，預設就有一個 application_helper.rb 的檔案。
一份 Helper 檔案範例如下，要注意是定義一個 Module，而非 Class：
module FooHelper def bar ... end end  之後就能在 View 中使用 bar 方法了。
如果想將 Controller 的方法變成 Helper 方法讓 View 呼叫，可以用 helper_method 方法達成：
class ApplicationController &lt; ActionController::Base # define helper method helper_method :foo protected def foo ... end end  至於想要在 rails console 測試 helper ：
 因為 Helper 預設只能在 Template 中使用，如果想在 rails console 中呼叫，必須加上 helper，例如 helper.
  </div>
  <p style="margin-top: 10px;">
    <a href="https://timfanda35.github.io/2015/07/30/helper-method-to-use/"> 繼續閱讀 >>> </a>
  </p>
  <hr>
</article>

            
              <article class="post-item">
  <p class="title">
    <a href="https://timfanda35.github.io/2015/07/30/form-for-and-strong-relationship-parameter/">form_for 與 strong parameter 的關係</a>
  </p>
  <footer class="meta">
    <time class="pub-time"  datetime="2015-07-30T13:01:00&#43;08:00">
      2015.07.30
    </time>
    <div class="terms">
      
      <div class="categories">
        
          <a class="categories-item" href="/categories/ruby">ruby</a>
        
          <a class="categories-item" href="/categories/rails">rails</a>
        
      </div>
      
      
    </div>
  </footer>
  <div style="margin-top: 10px;">
    form_for 是用 Rails 做網頁很常用的 Helper 方法，他的方便之處在於很輕鬆的產生與 Model 對應的 HTML 表單。
大部份的時候都會將使用者輸入的資料，用 Hash 表示 Model 的方式傳送到伺服器上。
但是有兩個問題：
 伺服器直接依照傳入的參數更新資料，如果有心人士偷塞了 Model 有的欄位，資料就會被改掉。 親自寫判斷去過濾傳入的參數，如果 Model 的種類一多，欄位一多就會變得很麻煩。  這邊可以用 strong parameter 來很簡單地過濾掉，傳入的 Model 參數中含有非預期的參數。
假設 Foo 定義如下，其中 security_field 欄位並不想被隨意修改，所以沒有呈現在表單上。
# schema create_table &quot;foos&quot;, force: :cascade do |t| t.string &quot;name&quot; t.integer &quot;bar&quot; t.string &quot;security_field&quot; t.datetime &quot;created_at&quot;, null: false t.datetime &quot;updated_at&quot;, null: false end  但有心人士仍然可以發送這樣的請求給伺服器，試圖去修改資料庫的值。
{ &quot;id&quot;: 1, &quot;foo&quot;: { &quot;name&quot;: &quot;foo&quot;, &quot;bar&quot;: 1, &quot;security_field&quot;: &quot;bad value&quot; } }  在這邊最簡單的方法就是用 strong parameter 來過濾，在 Controller 中寫一個 private method，要更新 Modle 時就使用該 method 來取得過濾後的參數來更新。
  </div>
  <p style="margin-top: 10px;">
    <a href="https://timfanda35.github.io/2015/07/30/form-for-and-strong-relationship-parameter/"> 繼續閱讀 >>> </a>
  </p>
  <hr>
</article>

            
              <article class="post-item">
  <p class="title">
    <a href="https://timfanda35.github.io/2015/07/30/activerecord-has-associated/">ActiveRecord has_many :through 關聯</a>
  </p>
  <footer class="meta">
    <time class="pub-time"  datetime="2015-07-30T11:59:00&#43;08:00">
      2015.07.30
    </time>
    <div class="terms">
      
      <div class="categories">
        
          <a class="categories-item" href="/categories/ruby">ruby</a>
        
          <a class="categories-item" href="/categories/rails">rails</a>
        
      </div>
      
      
    </div>
  </footer>
  <div style="margin-top: 10px;">
    在 Rails 中 Model 常常使用到一對多的關係，像是一台車有四個輪子，但每個輪子都只屬於一台車
我們會用 has_many ， belongs_to 來定義 Model 之間的關係，在 Tire 的資料表需要有 car_id 欄位來儲存所屬車子的 ID。
class Car has_many :tires end class Tire belongs_to :car end  而多對多的關係就會用到 has_many :through，取個例子：在學校裡，一個社團可以有多名成員，每位成員也可以參加多個社團，這樣的關係就是「多對多關係」。
# 一個社團可以有多名成員 group |-- member |-- member `-- member # 每位成員可以參加多個社團 member |-- group |-- group `-- group  我們無法只靠兩張表來表現多對多的關係，所以這時候需要再新增一個 Model，透過(:through)這一個 Model 來建立多得多的關係。
# group1 的成員有 member1, member2, member3 # group2 的成員有 member3 # group3 的成員有 member3 group1 -- group_member -- member1 |- group_member -- member2 | `- group_member -- member3 | group2 -- group_member -| group3 -- group_member -' # 反過來說 # member1 參加了 group1 # member2 參加了 group1 # member3 參加了 group1, group2, group3  以上圖為例，Model 定義如下：
  </div>
  <p style="margin-top: 10px;">
    <a href="https://timfanda35.github.io/2015/07/30/activerecord-has-associated/"> 繼續閱讀 >>> </a>
  </p>
  <hr>
</article>

            
          </div>
        </div>

        <div class="pagenation">
  
  <ul class="pagenation-list">
    
    <li class="pager previous">
      <a href="/categories/rails/page/1">&larr; Newer Posts</a>
    </li>
    
    
  </ul>
  
</div>

      </div>
    </div>

    <footer class="gfooter">
  <div class="inner">
    <div class="container">
      <p class="copy"><small>(c) 2019 Bear Su&#39;s Blog</small></p>

      <nav class="footer-nav">
        <div class="inner">
          
        </div>
      </nav>
    </div>
  </div>
</footer>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-5708312-7', 'auto');
	
	ga('send', 'pageview');
}
</script>


<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
<script src="https://timfanda35.github.io/js/script.js"></script>

  </body>
</html>
