<!doctype html><html lang=en-us>
<head>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=manifest href=/site.webmanifest>
<link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5>
<meta name=msapplication-TileColor content="#da532c">
<meta name=theme-color content="#ffffff">
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="ie=edge,chrome=1">
<title>RailsFun-0907筆記 &#183; Bear Su's Blog - Running Bear!!! </title>
<meta name=generator content="Hugo 0.92.0">
<meta name=description content="Running Bear!!!">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://blog.bear-su.dev/images/bear.jpeg">
<meta name=twitter:title content="RailsFun-0907筆記">
<meta name=twitter:description content="受到朋友的邀請
藉著這機會參加了一直很想去但又沒去的 RailsFun 聚會
得到了蠻多新知識
在下次聚會之前可以來好好研究一下">
<meta property="og:title" content="RailsFun-0907筆記">
<meta property="og:description" content="受到朋友的邀請
藉著這機會參加了一直很想去但又沒去的 RailsFun 聚會
得到了蠻多新知識
在下次聚會之前可以來好好研究一下">
<meta property="og:type" content="article">
<meta property="og:url" content="https://blog.bear-su.dev/2016/09/08/railsfun-0907-note/"><meta property="og:image" content="https://blog.bear-su.dev/images/bear.jpeg"><meta property="article:section" content>
<meta property="article:published_time" content="2016-09-08T01:46:00+08:00">
<meta property="article:modified_time" content="2016-09-08T01:46:00+08:00">
<link href rel=alternate type=application/rss+xml title="Bear Su's Blog">
<link href rel=feed type=application/rss+xml title="Bear Su's Blog">
<meta itemprop=name content="RailsFun-0907筆記">
<meta itemprop=description content="受到朋友的邀請
藉著這機會參加了一直很想去但又沒去的 RailsFun 聚會
得到了蠻多新知識
在下次聚會之前可以來好好研究一下"><meta itemprop=datePublished content="2016-09-08T01:46:00+08:00">
<meta itemprop=dateModified content="2016-09-08T01:46:00+08:00">
<meta itemprop=wordCount content="165"><meta itemprop=image content="https://blog.bear-su.dev/images/bear.jpeg">
<meta itemprop=keywords content>
<link href="https://fonts.googleapis.com/css?family=Lato:400" rel=stylesheet>
<link rel=stylesheet href=https://blog.bear-su.dev/css/style.css>
<script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"Bear Su\u0027s Blog","url":"https:\/\/blog.bear-su.dev\/2016\/09\/08\/railsfun-0907-note\/"}</script>
</head>
<body>
<header class=gheader>
<div class=container>
<nav class=navbar>
<div class=navbar-brand>
<a class=navbar-item href=https://blog.bear-su.dev>
<p class=brand>Bear Su's Blog</p>
</a>
<div class="navbar-burger burger" data-target=navMenubd-example>
<span></span>
<span></span>
<span></span>
</div>
</div>
<div id=navMenubd-example class=navbar-menu>
<div class=navbar-start>
<a class=navbar-item href=/categories/>
Categories
</a>
<a class=navbar-item href=https://github.com/timfanda35>
GitHub
</a>
<a class=navbar-item href=https://www.linkedin.com/in/bearsu>
Linkedin
</a>
<a class=navbar-item href=https://twitter.com/Fandayo>
Twitter
</a>
</div>
</div>
</nav>
</div>
</header>
<div class=main-content>
<div class=container>
<article class=post>
<header class=post-header>
<h1 class=title>RailsFun-0907筆記</h1>
<div class=meta>
<time class=pub-time datetime=2016-09-08T01:46:00+08:00>
2016.09.08
</time>
<div class=terms>
<div class=categories>
<a class=categories-item href=/categories/ruby>ruby</a>
<a class=categories-item href=/categories/rails>rails</a>
</div>
</div>
</div>
</header>
<div class=post-body>
<div class=toc-wrap>
<h2>Table of Contents</h2>
<nav id=TableOfContents>
<ul>
<li><a href=#gitflow>Gitflow</a></li>
<li><a href=#ruby-web-crawler>Ruby Web Crawler</a></li>
<li><a href=#regex-practice>Regex Practice</a></li>
<li><a href=#use-activerecord-in-ruby-script>Use ActiveRecord in Ruby Script</a></li>
<li><a href=#一些有關rails-model欄位設計的原則>一些有關rails model欄位設計的原則</a></li>
<li><a href=#database-comparition>Database Comparition</a></li>
</ul>
</nav>
</div>
<p>受到朋友的邀請</p>
<p>藉著這機會參加了一直很想去但又沒去的 RailsFun 聚會</p>
<p>得到了蠻多新知識</p>
<p>在下次聚會之前可以來好好研究一下</p>
<h2 id=gitflow>Gitflow <a href=#gitflow>¶</a></h2>
<hr>
<p>如何利用 git branch 來協助軟體開發，在幾年前就有人提出了 gitflow 的概念</p>
<p>以下是幾篇推薦的文章：</p>
<p><a href=https://ihower.tw/blog/archives/5140>Git flow 開發流程</a></p>
<p><a href=http://www.takobear.tw/2014/02/15/bear-git-flow-sourcetreegit-flow/>Bear 實驗室: 什麼是Git flow ? 如何在SourceTree使用Git flow管理開發!
</a></p>
<p><a href=http://danielkummer.github.io/git-flow-cheatsheet/>git-flow cheatsheet</a></p>
<h2 id=ruby-web-crawler>Ruby Web Crawler <a href=#ruby-web-crawler>¶</a></h2>
<hr>
<p>利用 <a href=https://github.com/rest-client/rest-client>rest-client</a> 抓取網頁，並用 <a href=http://www.nokogiri.org/>nokogiri</a> 解析取得想要的資訊</p>
<p>在開始開發網頁爬蟲以前，需要先對爬取的網頁進行分析</p>
<p>分析的工具可以使用 Google Chrome 的開發者工具來檢視網頁內容，以了解資料的呈現規則</p>
<p>有些需要帶有參數的網頁，可以透過開發者工具<em>網路</em>的頁籤檢視請求內容</p>
<p>開發一個簡單的網頁爬蟲首先要能夠取得頁面，透過 <a href=https://github.com/rest-client/rest-client>rest-client</a> 可以很容易的發送帶有參的送請求</p>
<p>再來需要將回傳的頁面透過 <a href=http://www.nokogiri.org/>nokogiri</a> 進行解析</p>
<p><a href=http://www.nokogiri.org/>nokogiri</a> 解析後的回傳的物件，我們可以透過所提供的方法，依 <a href=https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Getting_started/Selectors>css selector</a> 取得所要的資料</p>
<p>以下是有使用到的 gem：</p>
<ul>
<li>
<p><a href=https://github.com/rest-client/rest-client>rest-client</a> 用來取得網頁</p>
</li>
<li>
<p><a href=http://www.nokogiri.org/>nokogiri</a> 用來解析網頁</p>
</li>
<li>
<p><a href=https://github.com/pry/pry>pry</a> 方便除錯</p>
</li>
<li>
<p><a href=awesome_print>awesome_print</a> 可以將變數內容顯示的較為美觀</p>
</li>
</ul>
<h2 id=regex-practice>Regex Practice <a href=#regex-practice>¶</a></h2>
<hr>
<p>在解析網頁時常常會利用正規表示式來處理，以下是好用的參考網頁</p>
<p><a href=http://rubular.com/>http://rubular.com/</a></p>
<p><a href=https://regexone.com/>https://regexone.com/</a></p>
<h2 id=use-activerecord-in-ruby-script>Use ActiveRecord in Ruby Script <a href=#use-activerecord-in-ruby-script>¶</a></h2>
<hr>
<p>希望能夠將網頁爬蟲抓取的資料寫進資料庫，可以使用 <a href=https://github.com/rails/rails/tree/master/activerecord>active-record</a></p>
<p>這裡需要紀錄資料庫連線資訊的 <code>database.yml</code> ，這份檔案可以從任一 Rails 專案中取得範本</p>
<p>將 <code>database.yml</code> 放在目錄下，便可以透過以下程式碼，讓 ActiveRecord 載入資料庫連線資訊：</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby>require <span style=color:#e6db74>&#34;active_record&#34;</span>
require <span style=color:#e6db74>&#34;yaml&#34;</span>

database_config_file_path <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>#{</span>__dir__<span style=color:#e6db74>}</span><span style=color:#e6db74>/database.yml&#34;</span>
<span style=color:#66d9ef>ActiveRecord</span><span style=color:#f92672>::</span><span style=color:#66d9ef>Base</span><span style=color:#f92672>.</span>establish_connection(
  <span style=color:#75715e># load development environment setting</span>
  <span style=color:#66d9ef>YAML</span><span style=color:#f92672>.</span>load_file(database_config_file_path)<span style=color:#f92672>[</span><span style=color:#e6db74>&#34;development&#34;</span><span style=color:#f92672>]</span>
)
</code></pre></div><p>但如何建立資料表跟 Model 呢？</p>
<p>最簡單的方法就是開一個 Rails 專案跑 Migration 吧 :P</p>
<p><a href=https://github.com/rails/rails/tree/master/activerecord>active-record</a></p>
<p><a href=https://zh.wikipedia.org/wiki/YAML>yml</a></p>
<h2 id=一些有關rails-model欄位設計的原則>一些有關rails model欄位設計的原則 <a href=#%e4%b8%80%e4%ba%9b%e6%9c%89%e9%97%9crails-model%e6%ac%84%e4%bd%8d%e8%a8%ad%e8%a8%88%e7%9a%84%e5%8e%9f%e5%89%87>¶</a></h2>
<hr>
<p>分享了一些實務上的經驗：<a href=http://sibevin.github.io/posts/2016-09-01-232518-some-principles-about-rails-model-column-design>連結</a></p>
<p>推薦的 gem:</p>
<ul>
<li>
<p><a href=https://github.com/brainspec/enumerize>enumerize</a> 有些欄位的值是有限選項的，譬如付款狀態，這時在資料庫可以用整數型態儲存，在程式中則用比較有意義的名稱來操作。這個 gem 支援 <a href=https://github.com/plataformatec/simple_form>simple_form</a> 18n ，在最下拉式選單的時候很方便</p>
</li>
<li>
<p><a href=https://github.com/FooBarWidget/default_value_for>default_value_for</a> 以往除了在資料庫設定預設值，有時也需要用 before_save 來設定，使用這個 gem 能夠少寫一些程式碼</p>
</li>
<li>
<p><a href=https://github.com/sibevin/uidable>uidable</a> 幫助產生 uid 欄位的值，預設使用 <code>Array.new(10){[*'a'..'z', *'0'..'9'].sample}.join</code> 產生亂數，但也可以透過覆寫<code>gen_*</code> 方法使用自己的產生邏輯</p>
</li>
<li>
<p><a href=https://github.com/collectiveidea/awesome_nested_set>awesome_nested_set</a> 用來儲存<a href=https://zh.wikipedia.org/wiki/%E6%A8%B9%E7%8B%80%E7%B5%90%E6%A7%8B>樹狀結構</a>的 gem</p>
</li>
<li>
<p><a href=https://github.com/aasm/aasm>aasm</a> 安安，有聽過<a href=https://zh.wikipedia.org/wiki/%E6%9C%89%E9%99%90%E7%8A%B6%E6%80%81%E6%9C%BA>狀態機</a>嗎？</p>
</li>
</ul>
<h2 id=database-comparition>Database Comparition <a href=#database-comparition>¶</a></h2>
<hr>
<p><a href=https://memcached.org/>memcached</a> 超級快，但只有鍵值結構的存取方式</p>
<p><a href=http://redis.io/>redis</a> 很快，支援許多資料結構</p>
<p><a href=https://www.mongodb.com/>mongodb</a> javascript 的好朋友</p>
<p><a href=https://www.elastic.co/products/elasticsearch>elasticsearch</a> 很熱門的搜尋引擎</p>
<p><a href=http://ssdb.io/>ssdb</a> redis 的替代方案？</p>
<p><a href=http://couchdb.apache.org/>couchdb</a> 可以直接開出 WEB API 存取資料</p>
</div>
<footer class=post-footer>
<hr>
<div style=margin-top:2.5rem>
<div style=display:flex;justify-content:center;width:100%>
<p style=color:gray>
如果覺得這篇文章對您有所幫助，歡迎贊助我一杯咖啡 ☕️
</p>
</div>
<div style=display:flex;justify-content:center;width:100%>
<p style=color:gray>
祝您有美好的一天 ❤️
</p>
</div>
<div style=display:flex;justify-content:center;width:100%;margin-top:1rem>
<script type=text/javascript src=https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js data-name=bmc-button data-slug=timfanda35 data-color=#FFDD00 data-emoji data-font=Bree data-text="Buy me a coffee" data-outline-color=#000000 data-font-color=#000000 data-coffee-color=#ffffff></script>
</div>
</div>
<hr>
<div style=margin-top:1rem>
<script src=https://utteranc.es/client.js repo=timfanda35/timfanda35.github.io issue-term=pathname label=comment theme=github-light crossorigin=anonymous async></script>
</div>
<div class=share>
</div>
<div class=pagenation>
<ul class=pagenation-list>
<li class="pager previous">
<a href=https://blog.bear-su.dev/2016/09/03/elixir-learning-resource/ data-toggle=tooltip data-placement=top title="Elixir 學習資源">&larr; Previous Post</a>
</li>
<li class="pager next">
<a href=https://blog.bear-su.dev/2016/11/26/pocket-to-mail/ data-toggle=tooltip data-placement=top title="Side Project: Pocket to mail">Next Post &rarr;</a>
</li>
</ul>
</div>
</footer>
</article>
<article class=related></article>
<script type=application/ld+json>{"@context":"http://schema.org","@type":"NewsArticle","mainEntityOfPage":{"@type":"NewsArticle","@id":"https:\/\/blog.bear-su.dev\/2016\/09\/08\/railsfun-0907-note\/","headline":"受到朋友的邀請藉著這機會參加了一直很想去但又沒去的 RailsFun 聚會得到了蠻多新知識在下次聚會之前可以來好好研究一下Gitflow ¶ 如何利用 git branch 來協助軟體開發，在幾年前就有人提出了 gitf","author":"Bear Su","publisher":{"@type":"Organization","name":"Bear Su","logo":""},"image":"","datePublished":"2016-09-08"},"headline":"受到朋友的邀請藉著這機會參加了一直很想去但又沒去的 RailsFun 聚會得到了蠻多新知識在下次聚會之前可以來好好研究一下Gitflow ¶ 如何利用 git branch 來協助軟體開發，在幾年前就有人提出了 gitf","alternativeHeadline":"Bear Su\u0027s Blog","datePublished":"2016-09-08","dateModified":"2016-09-08","url":"https:\/\/blog.bear-su.dev\/2016\/09\/08\/railsfun-0907-note\/","wordCount":"165","author":{"@type":"Person","name":"Bear Su"},"publisher":{"@type":"Organization","name":"Bear Su"},"image":"","genre":"rubyrails","description":""}</script>
<script type=application/ld+json>{"@context":"http://schema.org","@type":"Person","@id":"https:\/\/blog.bear-su.dev\/2016\/09\/08\/railsfun-0907-note\/","name":"Bear Su"}</script>
</div>
</div>
<footer class=gfooter>
<div class=inner>
<div class=container>
<p class=copy>
<small>Copyright © 2015 - 2022 Bear Su's Blog</small>
<small> | 本部落格有使用 Google Analytic 及 Cookie</small>
</p>
<nav class=footer-nav>
<div class=inner>
</div>
</nav>
</div>
</div>
</footer>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KJXNT5CQCS"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-KJXNT5CQCS',{anonymize_ip:!1})}</script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://blog.bear-su.dev/js/script.js></script>
</body>
</html>