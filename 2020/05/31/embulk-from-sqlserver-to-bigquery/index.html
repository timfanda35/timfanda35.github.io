<!doctype html><html lang=en-us>
<head>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=manifest href=/site.webmanifest>
<link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5>
<meta name=msapplication-TileColor content="#da532c">
<meta name=theme-color content="#ffffff">
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="ie=edge,chrome=1">
<title>使用 Embulk 從 SQL Server 匯入資料至 BigQuery &#183; Bear Su's Blog - Running Bear!!! </title>
<meta name=generator content="Hugo 0.92.0">
<meta name=description content="Running Bear!!!">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://blog.bear-su.dev/images/bear.jpeg">
<meta name=twitter:title content="使用 Embulk 從 SQL Server 匯入資料至 BigQuery">
<meta name=twitter:description content="
unsplash-logoAntony Xia
本文將使用開源軟體 Embulk  SQL Server 匯入資料至 BigQuery。
一般批次匯入 BigQuery 皆會先從 SQL Server 匯出資料表成 CSV 格式後，再透過 ETL 工具或是直接執行 BigQuery Load Job 匯入。在網路上也有商業的 ETL 軟體與服務能夠直接串接 SQL Server 至 BigQuery，省去自己匯出 CSV 的麻煩。
SQL Server 匯出成 BigQuery 可以接受的 CSV 格式，比較麻煩的主要有兩點：

文字欄位的分隔。若欄位值有包含半形逗號(,)或是包含半形逗號(,)與雙引號(&#34;)，若沒有正確地處理這兩個符號，在解析 CSV 欄位的時候就會難以判斷分隔欄位導致匯入失敗。
NULL 值。SQL Server 匯出 CSV 時，會在欄位值中填入 NULL ，但在匯入 BigQeury 時會被解析成字串，所以必須要先將欄位值為 NULL 的欄位修改為空值再匯入。
">
<meta property="og:title" content="使用 Embulk 從 SQL Server 匯入資料至 BigQuery">
<meta property="og:description" content="
unsplash-logoAntony Xia
本文將使用開源軟體 Embulk  SQL Server 匯入資料至 BigQuery。
一般批次匯入 BigQuery 皆會先從 SQL Server 匯出資料表成 CSV 格式後，再透過 ETL 工具或是直接執行 BigQuery Load Job 匯入。在網路上也有商業的 ETL 軟體與服務能夠直接串接 SQL Server 至 BigQuery，省去自己匯出 CSV 的麻煩。
SQL Server 匯出成 BigQuery 可以接受的 CSV 格式，比較麻煩的主要有兩點：

文字欄位的分隔。若欄位值有包含半形逗號(,)或是包含半形逗號(,)與雙引號(&#34;)，若沒有正確地處理這兩個符號，在解析 CSV 欄位的時候就會難以判斷分隔欄位導致匯入失敗。
NULL 值。SQL Server 匯出 CSV 時，會在欄位值中填入 NULL ，但在匯入 BigQeury 時會被解析成字串，所以必須要先將欄位值為 NULL 的欄位修改為空值再匯入。
">
<meta property="og:type" content="article">
<meta property="og:url" content="https://blog.bear-su.dev/2020/05/31/embulk-from-sqlserver-to-bigquery/"><meta property="og:image" content="https://blog.bear-su.dev/images/bear.jpeg"><meta property="article:section" content>
<meta property="article:published_time" content="2020-05-31T12:00:00+08:00">
<meta property="article:modified_time" content="2020-05-31T12:00:00+08:00">
<link href rel=alternate type=application/rss+xml title="Bear Su's Blog">
<link href rel=feed type=application/rss+xml title="Bear Su's Blog">
<meta itemprop=name content="使用 Embulk 從 SQL Server 匯入資料至 BigQuery">
<meta itemprop=description content="
unsplash-logoAntony Xia
本文將使用開源軟體 Embulk  SQL Server 匯入資料至 BigQuery。
一般批次匯入 BigQuery 皆會先從 SQL Server 匯出資料表成 CSV 格式後，再透過 ETL 工具或是直接執行 BigQuery Load Job 匯入。在網路上也有商業的 ETL 軟體與服務能夠直接串接 SQL Server 至 BigQuery，省去自己匯出 CSV 的麻煩。
SQL Server 匯出成 BigQuery 可以接受的 CSV 格式，比較麻煩的主要有兩點：

文字欄位的分隔。若欄位值有包含半形逗號(,)或是包含半形逗號(,)與雙引號(&#34;)，若沒有正確地處理這兩個符號，在解析 CSV 欄位的時候就會難以判斷分隔欄位導致匯入失敗。
NULL 值。SQL Server 匯出 CSV 時，會在欄位值中填入 NULL ，但在匯入 BigQeury 時會被解析成字串，所以必須要先將欄位值為 NULL 的欄位修改為空值再匯入。
"><meta itemprop=datePublished content="2020-05-31T12:00:00+08:00">
<meta itemprop=dateModified content="2020-05-31T12:00:00+08:00">
<meta itemprop=wordCount content="482"><meta itemprop=image content="https://blog.bear-su.dev/images/bear.jpeg">
<meta itemprop=keywords content>
<link href="https://fonts.googleapis.com/css?family=Lato:400" rel=stylesheet>
<link rel=stylesheet href=https://blog.bear-su.dev/css/style.css>
<script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"Bear Su\u0027s Blog","url":"https:\/\/blog.bear-su.dev\/2020\/05\/31\/embulk-from-sqlserver-to-bigquery\/"}</script>
</head>
<body>
<header class=gheader>
<div class=container>
<nav class=navbar>
<div class=navbar-brand>
<a class=navbar-item href=https://blog.bear-su.dev>
<p class=brand>Bear Su's Blog</p>
</a>
<div class="navbar-burger burger" data-target=navMenubd-example>
<span></span>
<span></span>
<span></span>
</div>
</div>
<div id=navMenubd-example class=navbar-menu>
<div class=navbar-start>
<a class=navbar-item href=/categories/>
Categories
</a>
<a class=navbar-item href=https://github.com/timfanda35>
GitHub
</a>
<a class=navbar-item href=https://www.linkedin.com/in/bearsu>
Linkedin
</a>
<a class=navbar-item href=https://twitter.com/Fandayo>
Twitter
</a>
</div>
</div>
</nav>
</div>
</header>
<div class=main-content>
<div class=container>
<article class=post>
<header class=post-header>
<h1 class=title>使用 Embulk 從 SQL Server 匯入資料至 BigQuery</h1>
<div class=meta>
<time class=pub-time datetime=2020-05-31T12:00:00+08:00>
2020.05.31
</time>
<div class=terms>
<div class=categories>
<a class=categories-item href=/categories/gcp>gcp</a>
<a class=categories-item href=/categories/bigquery>bigquery</a>
<a class=categories-item href=/categories/sqlserver>sqlserver</a>
<a class=categories-item href=/categories/embulk>embulk</a>
</div>
</div>
</div>
</header>
<div class=post-body>
<div class=toc-wrap>
<h2>Table of Contents</h2>
<nav id=TableOfContents>
<ul>
<li><a href=#embulk-簡介>Embulk 簡介</a></li>
<li><a href=#embulk-安裝>Embulk 安裝</a></li>
<li><a href=#embulk-plugin>Embulk Plugin</a></li>
<li><a href=#撰寫設定檔>撰寫設定檔</a></li>
</ul>
</nav>
</div>
<p><img src=/images/2020-05-31/embulk-from-sqlserver-to-bigquery/cover.jpg alt></p>
<p><a style="background-color:#000;color:#fff;text-decoration:none;padding:4px 6px;font-family:-apple-system,BlinkMacSystemFont,san francisco,helvetica neue,Helvetica,Ubuntu,Roboto,Noto,segoe ui,Arial,sans-serif;font-size:12px;font-weight:700;line-height:1.2;display:inline-block;border-radius:3px" href="https://unsplash.com/@shadejay?utm_medium=referral&utm_campaign=photographer-credit&utm_content=creditBadge" target=_blank rel="noopener noreferrer" title="Download free do whatever you want high-resolution photos from Antony Xia"><span style="display:inline-block;padding:2px 3px"><svg xmlns="http://www.w3.org/2000/svg" style="height:12px;width:auto;position:relative;vertical-align:middle;top:-2px;fill:#fff" viewBox="0 0 32 32"><title>unsplash-logo</title><path d="M10 9V0h12v9H10zm12 5h10v18H0V14h10v9h12v-9z"/></svg></span><span style="display:inline-block;padding:2px 3px">Antony Xia</span></a></p>
<p>本文將使用開源軟體 Embulk SQL Server 匯入資料至 BigQuery。</p>
<p>一般批次匯入 BigQuery 皆會先從 SQL Server 匯出資料表成 CSV 格式後，再透過 ETL 工具或是直接執行 BigQuery Load Job 匯入。在網路上也有商業的 ETL 軟體與服務能夠直接串接 SQL Server 至 BigQuery，省去自己匯出 CSV 的麻煩。</p>
<p>SQL Server 匯出成 BigQuery 可以接受的 CSV 格式，比較麻煩的主要有兩點：</p>
<ol>
<li>文字欄位的分隔。若欄位值有包含半形逗號(,)或是包含半形逗號(,)與雙引號(")，若沒有正確地處理這兩個符號，在解析 CSV 欄位的時候就會難以判斷分隔欄位導致匯入失敗。</li>
<li>NULL 值。SQL Server 匯出 CSV 時，會在欄位值中填入 NULL ，但在匯入 BigQeury 時會被解析成字串，所以必須要先將欄位值為 NULL 的欄位修改為空值再匯入。</li>
</ol>
<h2 id=embulk-簡介>Embulk 簡介 <a href=#embulk-%e7%b0%a1%e4%bb%8b>¶</a></h2>
<hr>
<p><a href=%5Bhttps://github.com/embulk/embulk%5D(https://github.com/embulk/embulk)>Embulk</a> 是一個使用 JRuby 開發的開源 Bulk Data Loader，支援多種資料來源與目的地。</p>
<blockquote>
<p>Embulk is a parallel bulk data loader that helps data transfer between various storages, databases, NoSQL and cloud services.</p>
</blockquote>
<p>透過安裝不同的 input/output plugin 即可支援不同的資料庫或儲存媒介；設定檔為 YAML 格式，也能做成 liquid 格式的範本，動態改變設定檔中的值而不必重新再寫一份類似內容只為了少數變化。</p>
<h2 id=embulk-安裝>Embulk 安裝 <a href=#embulk-%e5%ae%89%e8%a3%9d>¶</a></h2>
<hr>
<p>本文環境以 Google Compute Engine，作業系統為 Linux Centos7 為例。</p>
<p>Google Compute Engine 上的 Service Account 權限為：</p>
<ul>
<li>Storage: 讀寫</li>
<li>BigQuery: 已啟用</li>
</ul>
<p>安裝 Open JDK 1.8</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo yum update -y
sudo yum install -y java-1.8.0-openjdk-devel
</code></pre></div><p>安裝 Embulk 最新版於使用者目錄</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>curl --create-dirs -o ~/.embulk/bin/embulk -L <span style=color:#e6db74>&#34;https://dl.embulk.org/embulk-latest.jar&#34;</span>
chmod +x ~/.embulk/bin/embulk
echo <span style=color:#e6db74>&#39;export PATH=&#34;$HOME/.embulk/bin:$PATH&#34;&#39;</span> &gt;&gt; ~/.bashrc
source ~/.bashrc
</code></pre></div><p>測試範例，可以觀察在 <code>try1</code> 目錄下的檔案，與 <code>config.yml</code> 的內容。</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># 產生測試來源</span>
embulk example ./try1

<span style=color:#75715e># 猜測欄位並產生設定檔</span>
embulk guess   ./try1/seed.yml -o config.yml

<span style=color:#75715e># 預覽載入作業</span>
embulk preview config.yml

<span style=color:#75715e># 執行載入作業</span>
embulk run     config.yml
</code></pre></div><p>若沒有任何錯誤就可以往下一步邁進。</p>
<p><code>./try1</code> 目錄：</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>./try1/
├── csv
│   └── sample_01.csv.gz
└── seed.yml
</code></pre></div><p><code>./try1/seed.yml</code> 內容，這裡只有 input/output plugin 等基本設定：</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#f92672>in</span>:
  <span style=color:#f92672>type</span>: <span style=color:#ae81ff>file</span>
  <span style=color:#f92672>path_prefix</span>: <span style=color:#e6db74>&#39;/home/USER_NAME/./try1/csv/sample_&#39;</span>
<span style=color:#f92672>out</span>:
  <span style=color:#f92672>type</span>: <span style=color:#ae81ff>stdout</span>
</code></pre></div><p><code>config.yml</code> 內容，透過 <code>guess</code> 指令，從 <code>seed.yml</code> 於原始資料產生內容更加詳盡的設定檔：</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#f92672>in</span>:
  <span style=color:#f92672>type</span>: <span style=color:#ae81ff>file</span>
  <span style=color:#f92672>path_prefix</span>: <span style=color:#ae81ff>/home/USER_NAME/./try1/csv/sample_</span>
  <span style=color:#f92672>decoders</span>:
  - {<span style=color:#f92672>type</span>: <span style=color:#ae81ff>gzip}</span>
  <span style=color:#f92672>parser</span>:
    <span style=color:#f92672>charset</span>: <span style=color:#ae81ff>UTF-8</span>
    <span style=color:#f92672>newline</span>: <span style=color:#ae81ff>LF</span>
    <span style=color:#f92672>type</span>: <span style=color:#ae81ff>csv</span>
    <span style=color:#f92672>delimiter</span>: <span style=color:#e6db74>&#39;,&#39;</span>
    <span style=color:#f92672>quote</span>: <span style=color:#e6db74>&#39;&#34;&#39;</span>
    <span style=color:#f92672>escape</span>: <span style=color:#e6db74>&#39;&#34;&#39;</span>
    <span style=color:#f92672>null_string</span>: <span style=color:#e6db74>&#39;NULL&#39;</span>
    <span style=color:#f92672>trim_if_not_quoted</span>: <span style=color:#66d9ef>false</span>
    <span style=color:#f92672>skip_header_lines</span>: <span style=color:#ae81ff>1</span>
    <span style=color:#f92672>allow_extra_columns</span>: <span style=color:#66d9ef>false</span>
    <span style=color:#f92672>allow_optional_columns</span>: <span style=color:#66d9ef>false</span>
    <span style=color:#f92672>columns</span>:
    - {<span style=color:#f92672>name: id, type</span>: <span style=color:#ae81ff>long}</span>
    - {<span style=color:#f92672>name: account, type</span>: <span style=color:#ae81ff>long}</span>
    - {<span style=color:#f92672>name: time, type: timestamp, format</span>: <span style=color:#e6db74>&#39;%Y-%m-%d %H:%M:%S&#39;</span>}
    - {<span style=color:#f92672>name: purchase, type: timestamp, format</span>: <span style=color:#e6db74>&#39;%Y%m%d&#39;</span>}
    - {<span style=color:#f92672>name: comment, type</span>: <span style=color:#ae81ff>string}</span>
<span style=color:#f92672>out</span>: {<span style=color:#f92672>type</span>: <span style=color:#ae81ff>stdout}</span>
</code></pre></div><p>從 <code>config.yml</code> 中可以得知，將會從 File 類型的資料來源，匯入至標準輸出，也就是顯示在指令輸出中。</p>
<h2 id=embulk-plugin>Embulk Plugin <a href=#embulk-plugin>¶</a></h2>
<hr>
<p>本文我們將安裝 <a href=%5Bhttps://github.com/embulk/embulk-input-jdbc%5D(https://github.com/embulk/embulk-input-jdbc)>SQL Server Input Plugin(embulk-input-jdbc)</a> 與 <a href=%5Bhttps://github.com/embulk/embulk-output-bigquery%5D(https://github.com/embulk/embulk-output-bigquery)>BigQuery Output Plugin</a>。</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>embulk gem install embulk-input-sqlserver
embulk gem install embulk-output-bigquery
</code></pre></div><h2 id=撰寫設定檔>撰寫設定檔 <a href=#%e6%92%b0%e5%af%ab%e8%a8%ad%e5%ae%9a%e6%aa%94>¶</a></h2>
<hr>
<p>假設要使用的 SQL Server 資料表 Schema 如下：</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> PurchaseUsers (
    id         INT <span style=color:#66d9ef>IDENTITY</span>,
    name       VARCHAR(<span style=color:#ae81ff>255</span>) <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>,
    create_at  DATETIME <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>CURRENT_TIMESTAMP</span>,
    <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>(id)
);
</code></pre></div><p>設定檔可以寫成這樣，並命名為 <code>config.yml.liquid</code>：</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#f92672>in</span>:
  <span style=color:#f92672>type</span>: <span style=color:#ae81ff>sqlserver</span>
  <span style=color:#f92672>host</span>: <span style=color:#e6db74>&#34;{{ env.IN_SOURCE_HOST }}&#34;</span>
  <span style=color:#f92672>user</span>: <span style=color:#e6db74>&#34;{{ env.IN_SOURCE_DB_USER }}&#34;</span>
  <span style=color:#f92672>password</span>: <span style=color:#e6db74>&#34;{{ env.IN_SOURCE_DB_PASS }}&#34;</span>
  <span style=color:#f92672>database</span>: <span style=color:#e6db74>&#34;{{ env.IN_SOURCE_DB }}&#34;</span>
  <span style=color:#f92672>table</span>: <span style=color:#e6db74>&#34;PurchaseUsers&#34;</span>
  <span style=color:#f92672>select</span>: <span style=color:#e6db74>&#34;create_at, id, name&#34;</span>
  <span style=color:#f92672>column_options</span>:
    <span style=color:#f92672>create_at</span>: {<span style=color:#f92672>type</span>: <span style=color:#ae81ff>timestamp}</span>
    <span style=color:#f92672>id</span>: {<span style=color:#f92672>type</span>: <span style=color:#ae81ff>long}</span>
    <span style=color:#f92672>name</span>: {<span style=color:#f92672>type</span>: <span style=color:#ae81ff>string}</span>
<span style=color:#f92672>out</span>:
  <span style=color:#f92672>type</span>: <span style=color:#ae81ff>bigquery</span>
  <span style=color:#f92672>auth_method</span>: <span style=color:#ae81ff>application_default</span>
  <span style=color:#f92672>project</span>: <span style=color:#e6db74>&#34;{{ env.GCP_PROJECT_ID }}&#34;</span>
  <span style=color:#f92672>dataset</span>: <span style=color:#e6db74>&#34;{{ env.BQ_DATASET }}&#34;</span>
  <span style=color:#f92672>table</span>:   <span style=color:#e6db74>&#34;PurchaseUsers&#34;</span>
  <span style=color:#f92672>compression</span>: <span style=color:#ae81ff>GZIP</span>
  <span style=color:#f92672>gcs_bucket</span>: <span style=color:#e6db74>&#34;{{ env.GCP_PROJECT_ID }}-embulk&#34;</span>
  <span style=color:#f92672>auto_create_gcs_bucket</span>: <span style=color:#66d9ef>true</span>
  <span style=color:#f92672>column_options</span>:
  - {<span style=color:#f92672>name: create_at, type: DATETIME, format</span>: <span style=color:#e6db74>&#39;%Y-%m-%d %H:%M:%S&#39;</span>}
  - {<span style=color:#f92672>name: id, type</span>: <span style=color:#ae81ff>INTEGER}</span>
  - {<span style=color:#f92672>name: name, type</span>: <span style=color:#ae81ff>STRING}</span>
</code></pre></div><p>其中 <code>{{ env.variable_name }}</code> 格式的字串是 <a href=%5Bhttps://shopify.github.io/liquid/%5D(https://shopify.github.io/liquid/)>liquid</a> 的語法，可以代入環境變數。要注意的是，設定檔要使用 liquid 格式範本，檔名就必須以 liquid 結尾，如 <code>config.yml.liquid</code>。</p>
<p><code>output.gcs_bucket</code> 欄位是必填的，BigQuery Output Plugin 背後其實也是先將資料變成 CSV 上傳到 Google Cloud Storage Bucket 後再執行 Load Job 載入至 BigQuery。 <code>output.auto_create_gcs_bucket</code> 則是設定成自動建立。</p>
<p><code>output.auth_method</code> 的值為 <code>application_default</code>，由於本文環境於 Google Compute Engine 上執行，所以 Embulk 會直接使用 Google Compute Engine 預設的 Service Account 權限呼叫 Google Cloud Storage 與 BigQuery API。其他方式可參考 <a href=%5Bhttps://github.com/embulk/embulk-output-bigquery#authentication%5D(https://github.com/embulk/embulk-output-bigquery#authentication)>BigQuery Output Plugin Authentication 章節</a>。</p>
<p>我們可以很簡單地寫一個 Shell Script 使用以上的設定去執行載入任務，填寫要代入設定檔的機敏資訊：</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e>#!/bin/bash
</span><span style=color:#75715e></span>
export GCP_PROJECT_ID<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&lt;PROJECT_ID&gt;&#34;</span>
export BQ_DATASET<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&lt;DATASET&gt;&#34;</span>

export IN_SOURCE_HOST<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&lt;SQLServer HOST&gt;&#34;</span>
export IN_SOURCE_DB_USER<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&lt;LOGIN USER&gt;&#34;</span>
export IN_SOURCE_DB_PASS<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&lt;LOGIN PASSWORD&gt;&#34;</span>
export IN_SOURCE_DB<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&lt;DATABASE&gt;&#34;</span>

embulk run config.yml.liquid
</code></pre></div><p>執行 Shell Script：</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>chmod u+x run.sh
./run.sh
</code></pre></div>
</div>
<footer class=post-footer>
<hr>
<div style=margin-top:2.5rem>
<div style=display:flex;justify-content:center;width:100%>
<p style=color:gray>
如果覺得這篇文章對您有所幫助，歡迎贊助我一杯咖啡 ☕️
</p>
</div>
<div style=display:flex;justify-content:center;width:100%>
<p style=color:gray>
祝您有美好的一天 ❤️
</p>
</div>
<div style=display:flex;justify-content:center;width:100%;margin-top:1rem>
<script type=text/javascript src=https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js data-name=bmc-button data-slug=timfanda35 data-color=#FFDD00 data-emoji data-font=Bree data-text="Buy me a coffee" data-outline-color=#000000 data-font-color=#000000 data-coffee-color=#ffffff></script>
</div>
</div>
<hr>
<div style=margin-top:1rem>
<script src=https://utteranc.es/client.js repo=timfanda35/timfanda35.github.io issue-term=pathname label=comment theme=github-light crossorigin=anonymous async></script>
</div>
<div class=share>
</div>
<div class=pagenation>
<ul class=pagenation-list>
<li class="pager previous">
<a href=https://blog.bear-su.dev/2020/02/08/packer-on-gcp-with-cloud-build/ data-toggle=tooltip data-placement=top title="Packer on GCP with Cloud Build">&larr; Previous Post</a>
</li>
<li class="pager next">
<a href=https://blog.bear-su.dev/2022/02/16/gem-install-fail-with-dind/ data-toggle=tooltip data-placement=top title="gem install fail with docker in docker">Next Post &rarr;</a>
</li>
</ul>
</div>
</footer>
</article>
<article class=related></article>
<script type=application/ld+json>{"@context":"http://schema.org","@type":"NewsArticle","mainEntityOfPage":{"@type":"NewsArticle","@id":"https:\/\/blog.bear-su.dev\/2020\/05\/31\/embulk-from-sqlserver-to-bigquery\/","headline":"unsplash-logoAntony Xia本文將使用開源軟體 Embulk SQL Server 匯入資料至 BigQuery。一般批次匯入 BigQuery 皆會先從 SQL Server 匯出資料表成 CSV 格","author":"Bear Su","publisher":{"@type":"Organization","name":"Bear Su","logo":""},"image":"","datePublished":"2020-05-31"},"headline":"unsplash-logoAntony Xia本文將使用開源軟體 Embulk SQL Server 匯入資料至 BigQuery。一般批次匯入 BigQuery 皆會先從 SQL Server 匯出資料表成 CSV 格","alternativeHeadline":"Bear Su\u0027s Blog","datePublished":"2020-05-31","dateModified":"2020-05-31","url":"https:\/\/blog.bear-su.dev\/2020\/05\/31\/embulk-from-sqlserver-to-bigquery\/","wordCount":"482","author":{"@type":"Person","name":"Bear Su"},"publisher":{"@type":"Organization","name":"Bear Su"},"image":"","genre":"gcpbigquerysqlserverembulk","description":""}</script>
<script type=application/ld+json>{"@context":"http://schema.org","@type":"Person","@id":"https:\/\/blog.bear-su.dev\/2020\/05\/31\/embulk-from-sqlserver-to-bigquery\/","name":"Bear Su"}</script>
</div>
</div>
<footer class=gfooter>
<div class=inner>
<div class=container>
<p class=copy>
<small>Copyright © 2015 - 2022 Bear Su's Blog</small>
<small> | 本部落格有使用 Google Analytic 及 Cookie</small>
</p>
<nav class=footer-nav>
<div class=inner>
</div>
</nav>
</div>
</div>
</footer>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KJXNT5CQCS"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-KJXNT5CQCS',{anonymize_ip:!1})}</script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://blog.bear-su.dev/js/script.js></script>
</body>
</html>